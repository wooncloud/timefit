### ================================================================
### Timefit Menu ê´€ë¦¬ í…ŒìŠ¤íŠ¸ (Happy Path)
### ðŸ“ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:
###    1. ì‚¬ìž¥ ê³„ì • íšŒì›ê°€ìž…
###    2. ì—…ì²´ ìƒì„±
###    3. ì˜ì—…ì‹œê°„ ë“±ë¡ (ì›”~ê¸ˆ 09:00-18:00)
###    4. ì¹´í…Œê³ ë¦¬ ìƒì„± (í—¤ì–´)
###    5. Menu ìƒì„± (RESERVATION_BASED)
###    6. Menu ì¡°íšŒ
###    7. Menu ìˆ˜ì • (durationMinutes ë³€ê²½ â†’ BookingSlot ìž¬ìƒì„±)
###    8. Menu í† ê¸€ (í™œì„± â†’ ë¹„í™œì„±)
###    9. Menu í† ê¸€ (ë¹„í™œì„± â†’ í™œì„±)
###    10. Menu ì‚­ì œ
### ================================================================

@baseUrl = http://localhost:8080

### ================================================================
### 1. ì‚¬ìž¥ ê³„ì • íšŒì›ê°€ìž…
### ================================================================

# @name ì‚¬ìž¥íšŒì›ê°€ìž…
POST {{baseUrl}}/api/auth/signup
Content-Type: application/json

{
  "email": "menu-owner@timefit.com",
  "password": "password123",
  "name": "ë©”ë‰´ì‚¬ìž¥",
  "phoneNumber": "010-1111-2222"
}

> {%
    client.global.set("ownerToken", response.body.data.accessToken);
    console.log("âœ… [1/9] ì‚¬ìž¥ íšŒì›ê°€ìž… ì„±ê³µ:", response.body.data.name);
%}

###

### ================================================================
### 2. ì—…ì²´ ìƒì„±
### ================================================================

# @name ì—…ì²´ìƒì„±
POST {{baseUrl}}/api/business
Content-Type: application/json
Authorization: Bearer {{ownerToken}}

{
  "businessName": "íƒ€ìž„í• ë·°í‹°ìƒµ",
  "businessTypes": ["BD008"],
  "businessNumber": "123-45-67890",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
  "contactPhone": "02-1234-5678"
}

> {%
    client.global.set("businessId", response.body.data.businessId);
    console.log("âœ… [2/9] ì—…ì²´ ìƒì„± ì„±ê³µ:", response.body.data.businessName);
%}

###

### ================================================================
### 3. ì˜ì—…ì‹œê°„ ë“±ë¡ (ì›”~ê¸ˆ 09:00-18:00)
### ================================================================

# @name ì˜ì—…ì‹œê°„ë“±ë¡
POST {{baseUrl}}/api/business/{{businessId}}/operating-hours
Content-Type: application/json
Authorization: Bearer {{ownerToken}}

{
  "operatingHours": [
    {
      "dayOfWeek": "MONDAY",
      "timeRanges": [{"startTime": "09:00", "endTime": "18:00"}]
    },
    {
      "dayOfWeek": "TUESDAY",
      "timeRanges": [{"startTime": "09:00", "endTime": "18:00"}]
    },
    {
      "dayOfWeek": "WEDNESDAY",
      "timeRanges": [{"startTime": "09:00", "endTime": "18:00"}]
    },
    {
      "dayOfWeek": "THURSDAY",
      "timeRanges": [{"startTime": "09:00", "endTime": "18:00"}]
    },
    {
      "dayOfWeek": "FRIDAY",
      "timeRanges": [{"startTime": "09:00", "endTime": "18:00"}]
    },
    {
      "dayOfWeek": "SATURDAY",
      "isClosed": true
    },
    {
      "dayOfWeek": "SUNDAY",
      "isClosed": true
    }
  ]
}

> {%
    console.log("âœ… [3/9] ì˜ì—…ì‹œê°„ ë“±ë¡ ì„±ê³µ");
%}

###

### ================================================================
### 4. ì¹´í…Œê³ ë¦¬ ìƒì„± (í—¤ì–´ ì„œë¹„ìŠ¤)
### ================================================================

# @name ì¹´í…Œê³ ë¦¬ìƒì„±
POST {{baseUrl}}/api/business/{{businessId}}/category
Content-Type: application/json
Authorization: Bearer {{ownerToken}}

{
  "businessType": "BD008",
  "categoryName": "í—¤ì–´",
  "categoryNotice": "í—¤ì–´ ê´€ë ¨ ì„œë¹„ìŠ¤ìž…ë‹ˆë‹¤"
}

> {%
    console.log("âœ… [4/10] ì¹´í…Œê³ ë¦¬ ìƒì„± ì„±ê³µ");
    console.log("    - ì¹´í…Œê³ ë¦¬ëª…:", response.body.data.categoryName);
    console.log("    - ì—…ì¢…:", response.body.data.businessType);
%}

###

### ================================================================
### 5. Menu ìƒì„± (RESERVATION_BASED)
### ================================================================

# @name ë©”ë‰´ìƒì„±
POST {{baseUrl}}/api/business/{{businessId}}/menu
Content-Type: application/json
Authorization: Bearer {{ownerToken}}

{
  "businessType": "BD008",
  "categoryName": "í—¤ì–´",
  "serviceName": "í—¤ì–´ ì»¤íŠ¸",
  "description": "ê¸°ë³¸ ì»¤íŠ¸ ì„œë¹„ìŠ¤",
  "price": 30000,
  "durationMinutes": 60,
  "orderType": "RESERVATION_BASED",
  "autoGenerateSlots": true,
  "slotSettings": {
    "startDate": "2025-12-08",
    "endDate": "2026-02-08",
    "slotIntervalMinutes": 30,
    "specificTimeRanges": [
      {"startTime": "09:00", "endTime": "12:00"},
      {"startTime": "14:00", "endTime": "18:00"}
    ]
  }
}

> {%
    if (response.body.data && response.body.data.menuId) {
        client.global.set("menuId", response.body.data.menuId);
        console.log("âœ… [5/10] Menu ìƒì„± ì„±ê³µ");
        console.log("    - Menu ID:", response.body.data.menuId);
        console.log("    - ì„œë¹„ìŠ¤ëª…:", response.body.data.serviceName);
        console.log("    - ì†Œìš”ì‹œê°„:", response.body.data.durationMinutes + "ë¶„");
    } else {
        console.error("âŒ Menu ìƒì„± ì‹¤íŒ¨:", response.body.errorResponse);
    }
%}

###

### ================================================================
### 6. Menu ì¡°íšŒ
### ================================================================

# @name ë©”ë‰´ì¡°íšŒ
GET {{baseUrl}}/api/business/{{businessId}}/menu/{{menuId}}
Authorization: Bearer {{ownerToken}}

> {%
    console.log("âœ… [6/10] Menu ì¡°íšŒ ì„±ê³µ");
    console.log("    - ì„œë¹„ìŠ¤ëª…:", response.body.data.serviceName);
    console.log("    - í™œì„± ìƒíƒœ:", response.body.data.isActive);
    console.log("    - ê°€ê²©:", response.body.data.price + "ì›");
%}

###

### ================================================================
### 7. Menu ìˆ˜ì • (durationMinutes ë³€ê²½ â†’ BookingSlot ìž¬ìƒì„±)
### ================================================================

# @name ë©”ë‰´ìˆ˜ì •
PATCH {{baseUrl}}/api/business/{{businessId}}/menu/{{menuId}}
Content-Type: application/json
Authorization: Bearer {{ownerToken}}

{
  "businessType": "BD008",
  "categoryName": "í—¤ì–´",
  "serviceName": "í—¤ì–´ ì»¤íŠ¸ + ìŠ¤íƒ€ì¼ë§",
  "description": "ì»¤íŠ¸ + ìŠ¤íƒ€ì¼ë§ íŒ¨í‚¤ì§€",
  "price": 40000,
  "durationMinutes": 90,
  "orderType": "RESERVATION_BASED",
  "autoGenerateSlots": true,
  "slotSettings": {
    "startDate": "2025-12-08",
    "endDate": "2026-02-08",
    "slotIntervalMinutes": 30,
    "specificTimeRanges": [
      {"startTime": "09:00", "endTime": "12:00"},
      {"startTime": "14:00", "endTime": "18:00"}
    ]
  }
}

> {%
    console.log("âœ… [7/10] Menu ìˆ˜ì • ì„±ê³µ");
    console.log("    - ì„œë¹„ìŠ¤ëª…:", response.body.data.serviceName);
    console.log("    - ì†Œìš”ì‹œê°„: 60ë¶„ â†’ 90ë¶„ (BookingSlot ìž¬ìƒì„±ë¨)");
    console.log("    - ê°€ê²©:", response.body.data.price + "ì›");
%}

###

### ================================================================
### 8. Menu í† ê¸€ (í™œì„± â†’ ë¹„í™œì„±)
### ================================================================

# @name ë©”ë‰´ë¹„í™œì„±í™”
PATCH {{baseUrl}}/api/business/{{businessId}}/menu/{{menuId}}/toggle
Authorization: Bearer {{ownerToken}}

> {%
    console.log("âœ… [8/10] Menu ë¹„í™œì„±í™” ì„±ê³µ");
    console.log("    - í™œì„± ìƒíƒœ:", response.body.data.isActive);
%}

###

### ================================================================
### 9. Menu í† ê¸€ (ë¹„í™œì„± â†’ í™œì„±)
### ================================================================

# @name ë©”ë‰´í™œì„±í™”
PATCH {{baseUrl}}/api/business/{{businessId}}/menu/{{menuId}}/toggle
Authorization: Bearer {{ownerToken}}

> {%
    console.log("âœ… [9/10] Menu ìž¬í™œì„±í™” ì„±ê³µ");
    console.log("    - í™œì„± ìƒíƒœ:", response.body.data.isActive);
%}

###

### ================================================================
### 10. Menu ì‚­ì œ
### ================================================================

# @name ë©”ë‰´ì‚­ì œ
DELETE {{baseUrl}}/api/business/{{businessId}}/menu/{{menuId}}
Authorization: Bearer {{ownerToken}}

> {%
    console.log("âœ… [10/10] Menu ì‚­ì œ ì„±ê³µ");
    console.log("\nðŸŽ‰ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì™„ë£Œ!");
%}

###
