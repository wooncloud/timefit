### 1. 회원가입 (공개 API)
POST http://localhost:8080/api/auth/signup
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "testpass123",
  "name": "테스트사용자",
  "phoneNumber": "010-9999-8888",
  "role": "BUSINESS"
}

> {%
    client.test("회원가입 성공", function() {
        client.assert(response.status === 201, "응답 코드가 201이어야 함");
    });

    if (response.body.data && response.body.data.accessToken) {
        client.global.set("accessToken", response.body.data.accessToken);
        client.global.set("userId", response.body.data.userId);
        console.log("✅ 회원가입 성공");
        console.log("User ID:", response.body.data.userId);
    }
%}


### 2. 사용자 정보 조회 (회원가입 직후)
GET http://localhost:8080/api/user/me
Authorization: Bearer {{accessToken}}

> {%
    client.test("사용자 정보 조회 성공", function() {
        client.assert(response.status === 200, "응답 코드가 200이어야 함");
    });

    if (response.status === 200) {
        console.log("✅ 사용자 정보:", response.body.data.name);
    } else {
        console.error("❌ 실패:", response.status, response.body);
    }
%}


### 3. 업체 생성 (회원가입 직후)
POST http://localhost:8080/api/business
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "businessName": "테스트 미용실",
  "businessTypes": ["BD008"],
  "businessNumber": "123-45-67890",
  "ownerName": "테스트사용자",
  "address": "서울특별시 강남구 테헤란로 123",
  "contactPhone": "02-1234-5678",
  "description": "테스트용 미용실입니다.",
  "logoUrl": "https://example.com/logo.png",
  "businessNotice": "평일 10:00-20:00 영업합니다."
}

> {%
    if (response.status === 201) {
        client.global.set("businessId", response.body.data.businessId);
        console.log("✅ 업체 생성 성공");
        console.log("Business ID:", response.body.data.businessId);
    } else {
        console.error("❌ 실패:", response.status, response.body);
    }
%}


### 4. 생성한 업체 조회 (공개 API)
GET http://localhost:8080/api/business/search

> {%
    if (response.status === 200) {
        console.log("✅ 업체 조회:", response.body.data.businessName);
    } else {
        console.error("❌ 실패:", response.status, response.body);
    }
%}


### 5. 로그인 (기존 계정)
POST http://localhost:8080/api/auth/signin
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "testpass123"
}

> {%
    client.test("로그인 성공", function() {
        client.assert(response.status === 200, "응답 코드가 200이어야 함");
    });

    if (response.body.data && response.body.data.accessToken) {
        client.global.set("accessToken", response.body.data.accessToken);
        client.global.set("userId", response.body.data.userId);
        console.log("✅ 로그인 성공");
        console.log("Access Token:", response.body.data.accessToken);
    }
%}


### 6. 사용자 정보 조회 (로그인 직후)
GET http://localhost:8080/api/user/me
Authorization: Bearer {{accessToken}}

> {%
    if (response.status === 200) {
        console.log("✅ 사용자 정보:", response.body.data.name);
        console.log("소속 업체 수:", response.body.data.businesses.length);
    } else {
        console.error("❌ 실패:", response.status, response.body);
    }
%}


### 7. 내 업체 목록 조회
GET http://localhost:8080/api/business/{{businessId}}
Authorization: Bearer {{accessToken}}

> {%
    if (response.status === 200) {
        console.log("✅ 업체 상세:", response.body.data.businessName);
    } else {
        console.error("❌ 실패:", response.status, response.body);
    }
%}

