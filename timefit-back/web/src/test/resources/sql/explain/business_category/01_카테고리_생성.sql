-- ============================================================
-- ì¹´í…Œê³ ë¦¬ ìƒì„±
-- ============================================================
-- API:        POST /api/business/{id}/category
-- í•µì‹¬ ì¿¼ë¦¬:  INSERT INTO business_category
-- ì‚¬ì „ì¡°ê±´:   _setup.sql (User, Business)
-- ============================================================

BEGIN;

-- ============================================================
-- ğŸ”§ í”½ìŠ¤ì²˜
-- ============================================================
-- ì—†ìŒ (ìƒì„± ìì²´ê°€ ì¸¡ì • ëŒ€ìƒ)

-- ============================================================
-- ğŸ” EXPLAIN: ì¹´í…Œê³ ë¦¬ ìƒì„±
-- ============================================================

EXPLAIN (ANALYZE, BUFFERS)
INSERT INTO business_category (
    id, 
    business_id, 
    business_type, 
    category_name, 
    is_active, 
    created_at, 
    updated_at
)
VALUES (
    gen_random_uuid(),
    '99999999-0000-0000-0000-000000000100',
    'BD008',
    'Test Category',
    true,
    NOW(),
    NOW()
);

-- ============================================================
-- ğŸ’¡ í™•ì¸ í¬ì¸íŠ¸
-- ============================================================
-- âœ… INSERT ì‘ì—…ì˜ ê¸°ë³¸ cost í™•ì¸
-- âœ… PK ì¸ë±ìŠ¤ ìƒì„± ë¹„ìš© (ìë™)
-- âœ… Buffers: shared hit vs read (ìºì‹œ í™œìš©ë„)
--
-- ì°¸ê³ : INSERTëŠ” í…Œì´ë¸” í¬ê¸°ì™€ ë¬´ê´€í•˜ê²Œ ì¼ì •í•œ íŒ¨í„´
--       ë³µí•© ì¸ë±ìŠ¤ê°€ ë§ìœ¼ë©´ cost ì¦ê°€

ROLLBACK;
