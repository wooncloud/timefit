# ========================================
# Scouter Agent 설정 (프로덕션 환경)
# 일단 참고용으로 저장해둠
# ========================================

# Agent 식별 이름
# 서버별로 다르게 설정 (예: timefit-prod-web-01, timefit-prod-web-02)
obj_name=timefit-prod-web-01

# Collector 서버 주소 (실제 모니터링 서버)
net_collector_ip=monitor.timefit.com
net_collector_udp_port=6100
net_collector_tcp_port=6100

# ========================================
# HTTP 요청 프로파일링
# ========================================

profile_spring_controller_method_parameter_enabled=true
profile_spring_controller_method_enabled=true
profile_http_querystring_enabled=true
profile_http_header_enabled=false  # 프로덕션에서는 민감 정보 보호를 위해 비활성화 고려
profile_http_parameter_enabled=false  # 프로덕션에서는 민감 정보 보호를 위해 비활성화 고려

# ========================================
# SQL 프로파일링
# ========================================

profile_sql_escape_enabled=true
profile_connection_open_enabled=true
profile_sql_param_enabled=true  # 민감 데이터가 있다면 false로 설정

# ========================================
# JPA/Hibernate 추적
# ========================================

hook_method_patterns=org.hibernate.internal.SessionImpl.list

# ========================================
# 성능 설정 (프로덕션 최적화)
# ========================================

trace_background_sql_enabled=true

# XLog 샘플링 (고부하 시 성능 영향 최소화)
xlog_sampling_enabled=true  # 프로덕션에서는 샘플링 권장
xlog_sampling_step1_ms=100
xlog_sampling_step2_ms=1000
xlog_sampling_step3_ms=3000
xlog_sampling_over_rate_pct=10

# ========================================
# 기타 설정
# ========================================

profile_fullstack_max_lines=256  # 프로덕션에서는 낮춤

# 응답 시간 기준 (느린 요청만 상세 추적)
xlog_lower_bound_time_ms=300  # 300ms 이상만 기록
